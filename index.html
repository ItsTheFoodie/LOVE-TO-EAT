<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel=""icon" type="image/x-icon" href ="/images/favicon.ico">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js" integrity="sha512-d6sc8kbZEtA2LwB9m/ck0FhvyUwVfdmvTeyJRprmj7Wg9wRFtHDIpr6qk4g/y3Ix3O9I6KHIv6SGu9f7RaP1Gw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>
            let x = 0;
            let y = 0;
            let x2;
            let y2;
            let y3;
            let x3;
             function setup(){
                console.log
                createCanvas(windowWidth-88,windowHeight-88);
                x2 = windowWidth - 187;
                y2 = windowHeight - 187;
                x3 = random(windowWidth);
                y3 = random(windowHeight);
             }
             function draw(){
                background(138,254,164);
                text('Score', 95, 95);
                fill(0);
                square(x,y,87);
                fill(79,66,181);
                square(x2,y2,87);
                noStroke();
                fill("yellow");
                circle(x3,y3,70);
             }

             function keyPressed(){
                if(key ==="d"){
                    x += 9
                }else if(key ==="a"){
                    x -= 9
                }else if(key ==="w"){
                    y -= 9
                }else if(key ==="s"){
                    y += 9
                }else if (keyCode === UP_ARROW) {
                    y2 -= 9;
                } else if (keyCode === DOWN_ARROW) {
                    y2 += 9;
                } else if (keyCode === LEFT_ARROW) {
                    x2 -= 9;
                } else if (keyCode === RIGHT_ARROW) {
                    x2 += 9;
                }
             } 
             // FOUND BUG!! keyPressed function's closing } was at the bottom, which meant newCircle and setInterval were called only when the keys were pressed.
  
    function newCircle(){
        console.log("new circle NOW: " + new Date().toLocaleTimeString());
        x3 = random(windowWidth);
        y3 = random(windowHeight);
        r = random(255);
        g = random(255);
        b = random(255);
    }

    setInterval(newCircle, 9000);
            
    
        </script>
    </body>

</html>
